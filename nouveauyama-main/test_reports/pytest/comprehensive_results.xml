<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="7" skipped="0" tests="31" time="3.024" timestamp="2026-02-04T04:20:35.323349+00:00" hostname="agent-env-08bb39e6-fad2-44f3-8f6a-3f0660c1308c"><testcase classname="backend.tests.test_comprehensive.TestHealthAndBasics" name="test_health_endpoint" time="0.193" /><testcase classname="backend.tests.test_comprehensive.TestHealthAndBasics" name="test_seed_endpoint" time="0.044" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_products_list" time="0.039" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_products_by_category" time="0.041" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_featured_products" time="0.041" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_new_products" time="0.042" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_promo_products" time="0.039" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_single_product" time="0.129" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_nonexistent_product" time="0.039" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_similar_products" time="0.087" /><testcase classname="backend.tests.test_comprehensive.TestProductsAPI" name="test_get_product_reviews" time="0.081" /><testcase classname="backend.tests.test_comprehensive.TestFlashSales" name="test_get_flash_sales" time="0.040" /><testcase classname="backend.tests.test_comprehensive.TestAuthAPI" name="test_login_with_valid_credentials" time="0.266" /><testcase classname="backend.tests.test_comprehensive.TestAuthAPI" name="test_login_with_invalid_credentials" time="0.039" /><testcase classname="backend.tests.test_comprehensive.TestAuthAPI" name="test_register_new_user" time="0.266" /><testcase classname="backend.tests.test_comprehensive.TestAuthAPI" name="test_register_duplicate_email" time="0.043" /><testcase classname="backend.tests.test_comprehensive.TestCartAPI" name="test_create_cart" time="0.041"><failure message="assert 405 == 200&#10; +  where 405 = &lt;Response [405]&gt;.status_code">backend/tests/test_comprehensive.py:200: in test_create_cart
    assert response.status_code == 200
E   assert 405 == 200
E    +  where 405 = &lt;Response [405]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestCartAPI" name="test_add_item_to_cart" time="0.079"><failure message="KeyError: 'cart_id'">backend/tests/test_comprehensive.py:215: in test_add_item_to_cart
    cart_id = cart_response.json()["cart_id"]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'cart_id'</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestCartAPI" name="test_get_cart" time="0.039"><failure message="KeyError: 'cart_id'">backend/tests/test_comprehensive.py:231: in test_get_cart
    cart_id = cart_response.json()["cart_id"]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'cart_id'</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestOrdersAPI" name="test_get_orders_requires_auth" time="0.041" /><testcase classname="backend.tests.test_comprehensive.TestOrdersAPI" name="test_track_order" time="0.036" /><testcase classname="backend.tests.test_comprehensive.TestBlogAPI" name="test_get_blog_posts" time="0.038" /><testcase classname="backend.tests.test_comprehensive.TestBlogAPI" name="test_get_single_blog_post" time="0.038"><failure message="assert 'title' in {'post': {'author': 'YAMA+', 'category': &quot;Guides d'achat&quot;, 'content': '\n                &lt;p&gt;Choisir un smartphone en 2025 peut sembler complexe face à la multitude d\'options disponibles. Ce guide vous aidera à faire le meilleur choix selon vos besoins.&lt;/p&gt;\n                \n                &lt;h2&gt;1. Définir son budget&lt;/h2&gt;\n                &lt;p&gt;Le marché des smartphones se divise en trois grandes catégories :&lt;/p&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;strong&gt;Entrée de gamme (100 000 - 200 000 FCFA)&lt;/strong&gt; : Parfait pour les usages basiques&lt;/li&gt;\n                    &lt;li&gt;&lt;strong&gt;Milieu de gamme (200 000 - 500 000 FCFA)&lt;/strong&gt; : Excellent rapport qualité-prix&lt;/li&gt;\n                    &lt;li&gt;&lt;strong&gt;Haut de gamme (500 000+ FCFA)&lt;/strong&gt; : Pour les utilisateurs exigeants&lt;/li&gt;\n                &lt;/ul&gt;\n                \n                &lt;h2&gt;2. L\'écran : taille et technologie&lt;/h2&gt;\n                &lt;p&gt;En 2025, les écrans AMOLED sont devenus la norme, même sur les appareils milieu de gamme. Privilégiez un taux de rafraîchissement de 90Hz minimum pour une navigation fluide.&lt;/p&gt;\n                \n                &lt;h2&gt;3. La puissance : processeur et RAM&lt;/h2&gt;\n                &lt;p&gt;Pour un usage quotidien fluide, optez pour au moins 6 Go de RAM. Les processeurs Snapdragon 8 Gen 3 ou Apple A17 Pro offrent les meilleures performances.&lt;/p&gt;\n                \n                &lt;h2&gt;4. L\'appareil photo&lt;/h2&gt;\n                &lt;p&gt;Ne vous fiez pas uniquement aux mégapixels ! La taille du capteur et le traitement logiciel sont tout aussi importants. Recherchez des capteurs de 1/1.5&quot; ou plus grands.&lt;/p&gt;\n                \n                &lt;h2&gt;5. L\'autonomie&lt;/h2&gt;\n                &lt;p&gt;Une batterie de 4500 mAh minimum est recommandée. La charge rapide (65W+) est devenue indispensable pour les utilisateurs actifs.&lt;/p&gt;\n                \n                &lt;h2&gt;Conclusion&lt;/h2&gt;\n                &lt;p&gt;Le meilleur smartphone est celui qui répond à VOS besoins. N\'hésitez pas à consulter notre boutique pour découvrir notre sélection soigneusement choisie.&lt;/p&gt;\n            ', 'date': '2025-02-01', ...}, 'related': []}">backend/tests/test_comprehensive.py:276: in test_get_single_blog_post
    assert "title" in data
E   assert 'title' in {'post': {'author': 'YAMA+', 'category': "Guides d'achat", 'content': '\n                &lt;p&gt;Choisir un smartphone en 2025 peut sembler complexe face à la multitude d\'options disponibles. Ce guide vous aidera à faire le meilleur choix selon vos besoins.&lt;/p&gt;\n                \n                &lt;h2&gt;1. Définir son budget&lt;/h2&gt;\n                &lt;p&gt;Le marché des smartphones se divise en trois grandes catégories :&lt;/p&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;strong&gt;Entrée de gamme (100 000 - 200 000 FCFA)&lt;/strong&gt; : Parfait pour les usages basiques&lt;/li&gt;\n                    &lt;li&gt;&lt;strong&gt;Milieu de gamme (200 000 - 500 000 FCFA)&lt;/strong&gt; : Excellent rapport qualité-prix&lt;/li&gt;\n                    &lt;li&gt;&lt;strong&gt;Haut de gamme (500 000+ FCFA)&lt;/strong&gt; : Pour les utilisateurs exigeants&lt;/li&gt;\n                &lt;/ul&gt;\n                \n                &lt;h2&gt;2. L\'écran : taille et technologie&lt;/h2&gt;\n                &lt;p&gt;En 2025, les écrans AMOLED sont devenus la norme, même sur les appareils milieu de gamme. Privilégiez un taux de rafraîchissement de 90Hz minimum pour une navigation fluide.&lt;/p&gt;\n                \n                &lt;h2&gt;3. La puissance : processeur et RAM&lt;/h2&gt;\n                &lt;p&gt;Pour un usage quotidien fluide, optez pour au moins 6 Go de RAM. Les processeurs Snapdragon 8 Gen 3 ou Apple A17 Pro offrent les meilleures performances.&lt;/p&gt;\n                \n                &lt;h2&gt;4. L\'appareil photo&lt;/h2&gt;\n                &lt;p&gt;Ne vous fiez pas uniquement aux mégapixels ! La taille du capteur et le traitement logiciel sont tout aussi importants. Recherchez des capteurs de 1/1.5" ou plus grands.&lt;/p&gt;\n                \n                &lt;h2&gt;5. L\'autonomie&lt;/h2&gt;\n                &lt;p&gt;Une batterie de 4500 mAh minimum est recommandée. La charge rapide (65W+) est devenue indispensable pour les utilisateurs actifs.&lt;/p&gt;\n                \n                &lt;h2&gt;Conclusion&lt;/h2&gt;\n                &lt;p&gt;Le meilleur smartphone est celui qui répond à VOS besoins. N\'hésitez pas à consulter notre boutique pour découvrir notre sélection soigneusement choisie.&lt;/p&gt;\n            ', 'date': '2025-02-01', ...}, 'related': []}</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestBlogAPI" name="test_get_nonexistent_blog_post" time="0.041" /><testcase classname="backend.tests.test_comprehensive.TestNewsletterAPI" name="test_subscribe_newsletter" time="0.043" /><testcase classname="backend.tests.test_comprehensive.TestAdminAPI" name="test_admin_stats" time="0.274"><failure message="AssertionError: assert 'total_customers' in {'pending_orders': 17, 'total_orders': 27, 'total_products': 26, 'total_revenue': 1358000, ...}">backend/tests/test_comprehensive.py:330: in test_admin_stats
    assert "total_customers" in data
E   AssertionError: assert 'total_customers' in {'pending_orders': 17, 'total_orders': 27, 'total_products': 26, 'total_revenue': 1358000, ...}</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestAdminAPI" name="test_admin_orders_list" time="0.274"><failure message="AssertionError: assert False&#10; +  where False = isinstance({'orders': [{'created_at': '2026-02-04T03:54:42.015419+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-D1069EA0', 'order_status': 'pending', ...}, {'created_at': '2026-02-02T19:48:50.856128+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-B042ABB2', 'order_status': 'pending', ...}, {'created_at': '2026-02-01T17:51:23.399202+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-47F5B5F1', 'order_status': 'pending', ...}, {'created_at': '2026-02-01T16:41:58.779523+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=800', 'name': 'iPhone 15 Pro Max', 'price': 80000, 'product_id': 'prod_iphone15pro', ...}], 'order_id': 'ORD-59D090DA', 'order_status': 'pending', ...}, {'created_at': '2025-12-30T02:40:55.417126+00:00', 'items': [{'image': 'test.jpg', 'name': 'Test Product', 'price': 100000, 'product_id': 'prod_iphone15pro', ...}], 'order_id': 'ORD-38B72776', 'order_status': 'processing', ...}, {'created_at': '2025-12-30T02:00:02.250052+00:00', 'items': [{'image': 'test.jpg', 'name': 'Test Product for Notification', 'price': 50000, 'product_id': 'prod_test123', ...}], 'order_id': 'ORD-9E54C9F2', 'order_status': 'delivered', ...}, ...], 'total': 27}, list)">backend/tests/test_comprehensive.py:338: in test_admin_orders_list
    assert isinstance(data, list)
E   AssertionError: assert False
E    +  where False = isinstance({'orders': [{'created_at': '2026-02-04T03:54:42.015419+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-D1069EA0', 'order_status': 'pending', ...}, {'created_at': '2026-02-02T19:48:50.856128+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-B042ABB2', 'order_status': 'pending', ...}, {'created_at': '2026-02-01T17:51:23.399202+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800', 'name': 'MacBook Air M3', 'price': 1149000, 'product_id': 'prod_macbook_air', ...}], 'order_id': 'ORD-47F5B5F1', 'order_status': 'pending', ...}, {'created_at': '2026-02-01T16:41:58.779523+00:00', 'items': [{'image': 'https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=800', 'name': 'iPhone 15 Pro Max', 'price': 80000, 'product_id': 'prod_iphone15pro', ...}], 'order_id': 'ORD-59D090DA', 'order_status': 'pending', ...}, {'created_at': '2025-12-30T02:40:55.417126+00:00', 'items': [{'image': 'test.jpg', 'name': 'Test Product', 'price': 100000, 'product_id': 'prod_iphone15pro', ...}], 'order_id': 'ORD-38B72776', 'order_status': 'processing', ...}, {'created_at': '2025-12-30T02:00:02.250052+00:00', 'items': [{'image': 'test.jpg', 'name': 'Test Product for Notification', 'price': 50000, 'product_id': 'prod_test123', ...}], 'order_id': 'ORD-9E54C9F2', 'order_status': 'delivered', ...}, ...], 'total': 27}, list)</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestAdminAPI" name="test_admin_users_list" time="0.273"><failure message="AssertionError: assert False&#10; +  where False = isinstance({'total': 16, 'users': [{'created_at': '2025-12-23T04:31:18.126225+00:00', 'email': 'admin@lumina.sn', 'name': 'Admin Lumina', 'phone': '+221 77 000 00 00', ...}, {'created_at': '2025-12-23T04:33:50.347544+00:00', 'email': 'test_043350@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, {'created_at': '2025-12-23T04:48:15.196830+00:00', 'email': 'amadoubourydiouf@gmail.com', 'name': 'amadou boury diouf', 'phone': None, ...}, {'created_at': '2025-12-23T14:14:20.455542+00:00', 'email': 'admin@yama.sn', 'name': 'Admin YAMA+', 'phone': '+221770000000', ...}, {'created_at': '2025-12-23T14:15:41.726076+00:00', 'email': 'test_141541@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, {'created_at': '2025-12-23T19:33:37.929385+00:00', 'email': 'test_193337@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, ...]}, list)">backend/tests/test_comprehensive.py:346: in test_admin_users_list
    assert isinstance(data, list)
E   AssertionError: assert False
E    +  where False = isinstance({'total': 16, 'users': [{'created_at': '2025-12-23T04:31:18.126225+00:00', 'email': 'admin@lumina.sn', 'name': 'Admin Lumina', 'phone': '+221 77 000 00 00', ...}, {'created_at': '2025-12-23T04:33:50.347544+00:00', 'email': 'test_043350@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, {'created_at': '2025-12-23T04:48:15.196830+00:00', 'email': 'amadoubourydiouf@gmail.com', 'name': 'amadou boury diouf', 'phone': None, ...}, {'created_at': '2025-12-23T14:14:20.455542+00:00', 'email': 'admin@yama.sn', 'name': 'Admin YAMA+', 'phone': '+221770000000', ...}, {'created_at': '2025-12-23T14:15:41.726076+00:00', 'email': 'test_141541@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, {'created_at': '2025-12-23T19:33:37.929385+00:00', 'email': 'test_193337@test.com', 'name': 'Test User', 'phone': '+221771234567', ...}, ...]}, list)</failure></testcase><testcase classname="backend.tests.test_comprehensive.TestPromoCodesAPI" name="test_validate_invalid_promo_code" time="0.042" /><testcase classname="backend.tests.test_comprehensive.TestStockNotifications" name="test_subscribe_stock_notification" time="0.091" /><testcase classname="backend.tests.test_comprehensive.TestPriceAlerts" name="test_subscribe_price_alert" time="0.096" /></testsuite></testsuites>